
.echo ON

.mode list
.separator "  |  "
.echo ON

.mode list
.separator "  |  "

.output Snap1.txt

PRAGMA foreign_keys = ON;

DROP TABLE IF EXISTS User_As_Driver;
DROP TABLE IF EXISTS Shift_Table;
DROP TABLE IF EXISTS Reservation;
DROP TABLE IF EXISTS Vehicle;
DROP TABLE IF EXISTS Driver_Vehicle_Date_Time;
DROP TABLE IF EXISTS Request;
DROP TABLE IF EXISTS Shift;
DROP TABLE IF EXISTS admin;
DROP TABLE IF EXISTS User;
DROP TABLE IF EXISTS Request_Status;

CREATE TABLE User
(User_id VARCHAR(30),
Password VARCHAR(30),
Used_first VARCHAR(30),
User_last VARCHAR(30),
User_Role Char(30),
U_birthdate DATE,
U_address VARCHAR(30),
U_city VARCHAR(30),
U_state CHAR(2),
U_zip VARCHAR(10),
U_phone VARCHAR(10),
CONSTRAINT User_id_pk PRIMARY KEY (User_id));

CREATE TABLE admin
(Admin_id VARCHAR(30),
AdminPass VARCHAR(30),
Admin_first CHAR(30),
Admin_last char(30),
Admin_Address VARCHAR(30),
Admin_Phone Integer,
CONSTRAINT Admin_id_pk PRIMARY KEY (Admin_id));

CREATE TABLE Shift
(Shift_id INTEGER,
Shift_desc NVARCHAR2(20),
CONSTRAINT Shift_Shift_id_pk PRIMARY KEY (Shift_id));

CREATE TABLE vehicle
(V_id VARCHAR(10),
V_type VARCHAR(10),
CONSTRAINT Vehicle_V_id_pk PRIMARY KEY (V_id));

CREATE TABLE Request_status
(R_status_id INTEGER,
Status_Desc CHAR(30),
CONSTRAINT R_status_id_pk PRIMARY KEY (R_status_id));

CREATE TABLE User_As_Driver
(User_id VARCHAR(30),
User_License_No VARCHAR(30),
User_Life_insurance_No VARCHAR(10),
Shift_id INTEGER,
CONSTRAINT User_As_Driver_User_id_pk PRIMARY KEY (User_id),
CONSTRAINT User_As_Driver_Shift_id_fk FOREIGN KEY (Shift_id) REFERENCES Shift (Shift_id)
CONSTRAINT User_As_Driver_User_id_fk FOREIGN KEY (User_id) REFERENCES User (User_id));

CREATE TABLE Request
(R_id INTEGER PRIMARY KEY AUTOINCREMENT,
Pick_up_location char(20),
Destination CHAR(20),
R_status_id Integer,
R_Date Date,
User_id VARCHAR(30),
Admin_id Integer,
No_of_passangers,
CONSTRAINT Request_R_status_id_fk FOREIGN KEY (R_status_id) REFERENCES Request_status(R_status_id),
CONSTRAINT Request_User_id_fk FOREIGN KEY (User_id) REFERENCES User(User_id),
CONSTRAINT Admin_id_fk FOREIGN KEY (Admin_id) REFERENCES Admin(Admin_id));


CREATE TABLE Reservation
(R_id INTEGER,
V_id VARCHAR(10),
User_id VARCHAR(30),
CONSTRAINT Reservation_V_id_pk PRIMARY KEY (V_id),
CONSTRAINT R_V_id_fk FOREIGN KEY (V_id) REFERENCES Vehicle (V_id),
CONSTRAINT R_R_id_fk FOREIGN KEY(R_id) REFERENCES Request (R_id)
CONSTRAINT Reservation_User_id_fk FOREIGN KEY (User_id) REFERENCES User_As_Driver(User_id));

--- inserting records into USER
INSERT INTO User VALUES
(‘karthik@wpi.edu’, 'KL1234', 'Kartik', 'Laad', 'Student', date('1993-03-08'), '21 Dix ST', 'New York', 'Massachusetts', '01609','7747012619');
INSERT INTO User VALUES
(‘jagan@wpi.edu’, 'JM1234','Jagan', 'Ramesh', 'Student', date('1991-10-23'), '36 Lee St', 'Worcester', 'Massachusetts', '016','7747012207');
INSERT INTO User VALUES
(‘min@wpi.edu’, 'ML1234','Minhuizhi', 'Li', 'Student', date('1992-12-25'), '11 Berkshire', 'Boston', 'Massachusetts', '01609','5087235521');
INSERT INTO User VALUES
(‘cut@wpi.edu’, 'CF1234', 'Cut', 'Famalia', 'Student', date('1955-11-16'), '9 Boynton', 'Worcester', 'Massachusetts', '01609','7742327937');
INSERT INTO User VALUES
( ‘Yin@wpi.edu’, 'YM1234', 'Yinkai', 'MA', 'Student', date('1994-28-02'), 'Gordons Library', 'Worcester', 'Massachusetts', '01609','7746706082');
INSERT INTO User VALUES
(‘hu@wpi.edu’, 'LH1234', 'Ley', 'Hu', 'Student', date('1972-20-02'), 'Campus center', 'Worcester', 'Massachusetts', '01609','7746705678');
INSERT INTO User VALUES
(‘bob@wpi.edu’, 'BM1234', 'Bob', 'marley', 'Driver', date('1988-24-07'), '2 Highland St', 'Worcester', 'Massachusetts', '01609','774675678');
INSERT INTO User VALUES
(‘Rajini@wpi.edu’, 'RK1234', 'Rajni', 'Kant', ' Driver ', date('1990-06-05'), '15 dix st', 'Worcester', 'Massachusetts', '01609','7745647082');
INSERT INTO User VALUES
(‘bhai@wpi.edu’, 'SK1234', 'Salman', 'Khan', 'Driver', date('1955-22-08'), '5 Wasshuset', 'Worcester', 'Massachusetts', '01609','7578296082');
INSERT INTO User VALUES
(‘BigB@wpi.edu’, 'HR1234', 'Hirithik', 'Roshan', 'Driver', date('1975-28-08'), '8 Goldin', 'Worcester', 'Massachusetts', '01609','751234582');
INSERT INTO User VALUES
(‘Amitabh@wpi.edu’, 'AB1234', 'Amitabh', 'Bacchan', 'Admin',  date('1975-28-08'), '8 Goldin', 'Worcester', 'Massachusetts', '01609','751234582');



--- inserting records into admin
INSERT INTO admin VALUES
(‘Amitabh@wpi.edu’, 'AB1234', 'Amitabh', 'Bacchan', '8 Highland', 1547896655);
INSERT INTO admin VALUES
(‘Abishek@wpi.edu’, 'ABS1234', 'Abhishek', 'Bacchan', '9 Highland', 154621486);
INSERT INTO admin VALUES
(‘Aish@wpi.edu’, 'ASSB1234','Ash', 'Bagul', '9 Somerset', '452176542');

--- inserting records into Shift
INSERT INTO Shift VALUES
(1, '4:00PM – 9:00PM');
INSERT INTO Shift VALUES
(2, '9:00PM – 11:59PM ');
INSERT INTO Shift VALUES
(3, '11:59PM – 04:00AM ');

--- inserting records into Vehicle
INSERT INTO Vehicle VALUES
('MA0154', 'Audi');
INSERT INTO Vehicle VALUES
('MA7865', 'BMW');

--- inserting records into Request_status
INSERT INTO Request_status VALUES
(112, 'Approved');
INSERT INTO Request_status VALUES
(113, 'Pending');
INSERT INTO Request_status VALUES
(114, 'Rejected');
INSERT INTO Request_status VALUES
(115, 'Canceled');

--- inserting records into User_As_Driver
INSERT INTO User_As_Driver VALUES
(‘BigB@wpi.edu’, 'abc1234', 'bhch1453', 1);
INSERT INTO User_As_Driver VALUES
(‘bhai@wpi.edu’, 'bcd1234', 'bhsv1453', 2);
INSERT INTO User_As_Driver VALUES
(‘bob@wpi.edu’, 'hcj1234', 'lmno1453', 3);
INSERT INTO User_As_Driver VALUES
(‘Rajini@wpi.edu’, 'hbc1234', 'pqrs1453', 1);

--- inserting records into Request
INSERT INTO Request(Pick_up_location, Destination,R_status_id,R_Date,User_id, Admin_id, No_of_passangers) VALUES
('21 dix st', 'Gordons Library',112,date(2016-11-08),’karthik@wpi.edu’, 12, 2);

INSERT INTO Request(Pick_up_location, Destination,R_status_id,R_Date,User_id, Admin_id, No_of_passangers) VALUES
('36 Lee St','Gordons Library',113,date(2016-11-10),’jagan@wpi.edu’, 11, 1);

--- inserting records into Reservation

INSERT INTO Reservation(V_id, User_id) VALUES
('MA0154', ‘BigB@wpi.edu’);

.output stdout
.echo OFF




.output Snap1.txt

PRAGMA foreign_keys = ON;

DROP TABLE IF EXISTS User_As_Driver;
DROP TABLE IF EXISTS Shift_Table;
DROP TABLE IF EXISTS Reservation;
DROP TABLE IF EXISTS Vehicle;
DROP TABLE IF EXISTS Driver_Vehicle_Date_Time;
DROP TABLE IF EXISTS Request;
DROP TABLE IF EXISTS Shift;
DROP TABLE IF EXISTS admin;
DROP TABLE IF EXISTS User;
DROP TABLE IF EXISTS Request_Status;

CREATE TABLE User
(User_id VARCHAR(30),
Password VARCHAR(30),
Used_first VARCHAR(30),
User_last VARCHAR(30),
User_Role Char(30),
U_birthdate DATE,
U_address VARCHAR(30),
U_city VARCHAR(30),
U_state CHAR(2),
U_zip VARCHAR(10),
U_phone VARCHAR(10),
CONSTRAINT User_id_pk PRIMARY KEY (User_id));

CREATE TABLE admin
(Admin_id VARCHAR(30),
AdminPass VARCHAR(30),
Admin_first CHAR(30),
Admin_last char(30),
Admin_Address VARCHAR(30),
Admin_Phone Integer,
CONSTRAINT Admin_id_pk PRIMARY KEY (Admin_id));

CREATE TABLE Shift
(Shift_id INTEGER,
Shift_desc NVARCHAR2(20),
CONSTRAINT Shift_Shift_id_pk PRIMARY KEY (Shift_id));

CREATE TABLE vehicle
(V_id VARCHAR(10),
V_type VARCHAR(10),
CONSTRAINT Vehicle_V_id_pk PRIMARY KEY (V_id));

CREATE TABLE Request_status
(R_status_id INTEGER,
Status_Desc CHAR(30),
CONSTRAINT R_status_id_pk PRIMARY KEY (R_status_id));

CREATE TABLE User_As_Driver
(User_id VARCHAR(30),
User_License_No VARCHAR(30),
User_Life_insurance_No VARCHAR(10),
Shift_id INTEGER,
CONSTRAINT User_As_Driver_User_id_pk PRIMARY KEY (User_id),
CONSTRAINT User_As_Driver_Shift_id_fk FOREIGN KEY (Shift_id) REFERENCES Shift (Shift_id)
CONSTRAINT User_As_Driver_User_id_fk FOREIGN KEY (User_id) REFERENCES User (User_id));

CREATE TABLE Request
(R_id INTEGER PRIMARY KEY AUTOINCREMENT,
Pick_up_location char(20),
Destination CHAR(20),
R_status_id Integer,
R_Date Date,
User_id VARCHAR(30),
Admin_id Integer,
No_of_passangers,
CONSTRAINT Request_R_status_id_fk FOREIGN KEY (R_status_id) REFERENCES Request_status(R_status_id),
CONSTRAINT Request_User_id_fk FOREIGN KEY (User_id) REFERENCES User(User_id),
CONSTRAINT Admin_id_fk FOREIGN KEY (Admin_id) REFERENCES Admin(Admin_id));


CREATE TABLE Reservation
(R_id INTEGER,
V_id VARCHAR(10),
User_id VARCHAR(30),
CONSTRAINT Reservation_V_id_pk PRIMARY KEY (V_id),
CONSTRAINT R_V_id_fk FOREIGN KEY (V_id) REFERENCES Vehicle (V_id),
CONSTRAINT R_R_id_fk FOREIGN KEY(R_id) REFERENCES Request (R_id)
CONSTRAINT Reservation_User_id_fk FOREIGN KEY (User_id) REFERENCES User_As_Driver(User_id));

--- inserting records into USER
INSERT INTO User VALUES
(‘karthik@wpi.edu’, 'KL1234', 'Kartik', 'Laad', 'Student', date('1993-03-08'), '21 Dix ST', 'New York', 'Massachusetts', '01609','7747012619');
INSERT INTO User VALUES
(‘jagan@wpi.edu’, 'JM1234','Jagan', 'Ramesh', 'Student', date('1991-10-23'), '36 Lee St', 'Worcester', 'Massachusetts', '016','7747012207');
INSERT INTO User VALUES
(‘min@wpi.edu’, 'ML1234','Minhuizhi', 'Li', 'Student', date('1992-12-25'), '11 Berkshire', 'Boston', 'Massachusetts', '01609','5087235521');
INSERT INTO User VALUES
(‘cut@wpi.edu’, 'CF1234', 'Cut', 'Famalia', 'Student', date('1955-11-16'), '9 Boynton', 'Worcester', 'Massachusetts', '01609','7742327937');
INSERT INTO User VALUES
( ‘Yin@wpi.edu’, 'YM1234', 'Yinkai', 'MA', 'Student', date('1994-28-02'), 'Gordons Library', 'Worcester', 'Massachusetts', '01609','7746706082');
INSERT INTO User VALUES
(‘hu@wpi.edu’, 'LH1234', 'Ley', 'Hu', 'Student', date('1972-20-02'), 'Campus center', 'Worcester', 'Massachusetts', '01609','7746705678');
INSERT INTO User VALUES
(‘bob@wpi.edu’, 'BM1234', 'Bob', 'marley', 'Driver', date('1988-24-07'), '2 Highland St', 'Worcester', 'Massachusetts', '01609','774675678');
INSERT INTO User VALUES
(‘Rajini@wpi.edu’, 'RK1234', 'Rajni', 'Kant', ' Driver ', date('1990-06-05'), '15 dix st', 'Worcester', 'Massachusetts', '01609','7745647082');
INSERT INTO User VALUES
(‘bhai@wpi.edu’, 'SK1234', 'Salman', 'Khan', 'Driver', date('1955-22-08'), '5 Wasshuset', 'Worcester', 'Massachusetts', '01609','7578296082');
INSERT INTO User VALUES
(‘BigB@wpi.edu’, 'HR1234', 'Hirithik', 'Roshan', 'Driver', date('1975-28-08'), '8 Goldin', 'Worcester', 'Massachusetts', '01609','751234582');
INSERT INTO User VALUES
(‘Amitabh@wpi.edu’, 'AB1234', 'Amitabh', 'Bacchan', 'Admin',  date('1975-28-08'), '8 Goldin', 'Worcester', 'Massachusetts', '01609','751234582');



--- inserting records into admin
INSERT INTO admin VALUES
(‘Amitabh@wpi.edu’, 'AB1234', 'Amitabh', 'Bacchan', '8 Highland', 1547896655);
INSERT INTO admin VALUES
(‘Abishek@wpi.edu’, 'ABS1234', 'Abhishek', 'Bacchan', '9 Highland', 154621486);
INSERT INTO admin VALUES
(‘Aish@wpi.edu’, 'ASSB1234','Ash', 'Bagul', '9 Somerset', '452176542');

--- inserting records into Shift
INSERT INTO Shift VALUES
(1, '4:00PM – 9:00PM');
INSERT INTO Shift VALUES
(2, '9:00PM – 11:59PM ');
INSERT INTO Shift VALUES
(3, '11:59PM – 04:00AM ');

--- inserting records into Vehicle
INSERT INTO Vehicle VALUES
('MA0154', 'Audi');
INSERT INTO Vehicle VALUES
('MA7865', 'BMW');

--- inserting records into Request_status
INSERT INTO Request_status VALUES
(112, 'Approved');
INSERT INTO Request_status VALUES
(113, 'Pending');
INSERT INTO Request_status VALUES
(114, 'Rejected');
INSERT INTO Request_status VALUES
(115, 'Canceled');

--- inserting records into User_As_Driver
INSERT INTO User_As_Driver VALUES
(‘BigB@wpi.edu’, 'abc1234', 'bhch1453', 1);
INSERT INTO User_As_Driver VALUES
(‘bhai@wpi.edu’, 'bcd1234', 'bhsv1453', 2);
INSERT INTO User_As_Driver VALUES
(‘bob@wpi.edu’, 'hcj1234', 'lmno1453', 3);
INSERT INTO User_As_Driver VALUES
(‘Rajini@wpi.edu’, 'hbc1234', 'pqrs1453', 1);

--- inserting records into Request
INSERT INTO Request(Pick_up_location, Destination,R_status_id,R_Date,User_id, Admin_id, No_of_passangers) VALUES
('21 dix st', 'Gordons Library',112,date(2016-11-08),’karthik@wpi.edu’, 12, 2);

INSERT INTO Request(Pick_up_location, Destination,R_status_id,R_Date,User_id, Admin_id, No_of_passangers) VALUES
('36 Lee St','Gordons Library',113,date(2016-11-10),’jagan@wpi.edu’, 11, 1);

--- inserting records into Reservation

INSERT INTO Reservation(V_id, User_id) VALUES
('MA0154', ‘BigB@wpi.edu’);

.output stdout
.echo OFF


